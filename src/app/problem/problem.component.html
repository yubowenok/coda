<div *ngIf="errored">Something went wrong when loading this page.</div>
<mat-spinner *ngIf="!problem && !errored" diameter="50"></mat-spinner>
<div *ngIf="problem" class="problem">
  <div class="title">
    <h1>{{problem.title}}</h1>
    <button mat-raised-button color="primary" class="submit" routerLink="submit">Submit</button>
  </div>
  <div [appMathJax]="this.problem.statement"></div>
  <div class="section">
    <h3>Subtasks</h3>
    <ul class="subtask-list">
      <li *ngFor="let subtask of problem.subtasks">
        <span class="subtask-id">
          <b>{{subtask.id | titlecase}}</b>
          <span>{{'(' + this.subtask.score + ' points): '}}</span>
        </span>
        <span [appMathJax]="subtask.text"></span>
      </li>
    </ul>
  </div>
  <div class="section margin-to-top">
    <h3>Samples</h3>
    <table class="samples">
      <tbody>
        <tr *ngFor="let sample of problem.samples; let i = index">
          <td>
            <div>
              <h4>Input {{i + 1}}<i class="fa fa-clone btn-copy"
                                    (click)="this.copyText(sample.in, 'Input ' + (i + 1) + ' copied')"></i></h4>
              <span class="special-sample it">{{this.displaySubtaskOnlySample(sample)}}</span>
            </div>
            <mat-card>
              <pre [ngStyle]="getSampleHeight(sample)">{{sample.in}}</pre>
            </mat-card>
          </td>
          <td>
            <h4>Output {{i + 1}}<i class="fa fa-clone btn-copy"
                                   (click)="this.copyText(sample.out, 'Output ' + (i + 1) + ' copied')"></i></h4>
            <mat-card>
              <pre [ngStyle]="getSampleHeight(sample)">{{sample.out}}</pre>
            </mat-card>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
